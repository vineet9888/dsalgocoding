::: {#page}
::: {#main .aui-page-panel}
::: {#main-header}
::: {#breadcrumb-section}
1.  [Vineet Sharma](index.html)
:::

# [ Vineet Sharma : Creating & deploying camunda image/solution ]{#title-text} {#title-heading .pagetitle}
:::

::: {#content .view}
::: page-metadata
Created by [ Vineet Sharma]{.author}, last modified on Mar 22, 2021
:::

::: {#main-content .wiki-content .group}
**Steps for creating camunda solution on CentOS**

Prerequisite software installation steps

Install git:\
 sudo yum install git\
\

Install Maven:\
sudo yum install maven

Settings.xml that **MUST** have these profiles/servers in them: 
(\~/.m2/settings.xml)

::: {.code .panel .pdl style="border-width: 1px;"}
::: {.codeHeader .panelHeader .pdl .hide-border-bottom style="border-bottom-width: 1px;"}
**settings.xml** [[ ]{.expand-control-icon .icon}[Expand
source]{.expand-control-text}]{.collapse-source .expand-control
style="display:none;"} []{.collapse-spinner-wrapper}
:::

::: {.codeContent .panelContent .pdl .hide-toolbar}
:::
:::

\
\
Install gcc:\
sudo yum group install \"Development Tools\"\
\

Install Python pip:\
sudo yum install epel-release\
sudo yum install python-pip 

make sure to update pip to **20.3.4** using below command

sudo pip install \--upgrade pip==**20.3.4**

\
~~sudo -H pip install \--upgrade pip~~

\
check version pip \--version\
\
Install python-dev:\
sudo yum install -y python-devel python-setuptools python-pip

Install virtual env:\
sudo pip install virtualenv\
\
Install git lfs:\
curl -s
<https://packagecloud.io/install/repositories/github/git-lfs/script.rpm.sh>
\| sudo bash\
sudo yum install git-lfs\
git lfs install\
\
after git lfs is installed execute git lfs pull in bp-camunda.\
\
\
**Camunda Image building steps**\
Clone  bp-camunda
repo(<https://bitbucket.ciena.com/projects/BP_CAMUNDA_BPMN/repos/bp-camunda/browse>)
using\
git clone
<https://bitbucket.ciena.com/scm/bp_camunda_bpmn/bp-camunda.git>\
cd bp-camunda\
git lfs pull

after git lfs pull is completed execute following steps

\
1.) make prepare-venv\
Note if the above step failed during cloing git repository, make a
change in requirements.txt file\
replace\
git+<git://github.cyanoptics.com/bp2/bputillib#egg=bputillib>\
git+<git://github.cyanoptics.com/bp2/bptxlib#egg=bptxlib>\
WITH\
git+<https://github.cyanoptics.com/bp2/bputillib#egg=bputillib>\
git+<https://github.cyanoptics.com/bp2/bptxlib#egg=bptxlib>\
2.) edit Makefile and increment BUILD_NUMBER variable\
3.) make create-camunda-tar (remove maven dependencies to make sure
latest maven modules are fetched , sometimes it is observed that local
maven repos aren\'t refreshed

 to delete local m2 repo execute : **sudo rm -r /root/.m2/repository  **

and to build code execute : **sudo mvn clean install -U -s
\~/.m2/settings.xml**

)\
4.) sudo make image (Note : use this image while building ca munda
solution)\
5.) sudo make tag

6.) sudo make push

\
**Create camunda solution**\
Clone bp-so-camunda repo
(<https://bitbucket.ciena.com/scm/bp_so/bp-so-camunda.git>) and execute
following :\
\
1.) make prepare-venv (one time step)\
2.) edit Makefile and increment BUILD_NUMBER\
3.) edit fig.yml to point to the camunda image we have built in last
step.\
4.)  sudo make image

5.) sudo make push\
\
\
undeploy old solution 

**Example : **\
**solution_undeploy \--purge-host-vols -y
[artifactory.ciena.com](http://artifactory.ciena.com){.external-link}.blueplanet.camunda:21.02.0-7.13.0-1-dev**\
\
and deploy new one

**Example :**\
**solution_deploy
[artifactory.ciena.com](http://artifactory.ciena.com){.external-link}.blueplanet.camunda:21.02.0-7.13.0-2-dev**

\

\

Original doc created by harjit : [Building the Camunda
Solution](https://confluence.ciena.com/display/BPOrchestrate/Building+the+Camunda+Solution)

\
:::
:::
:::

::: {#footer role="contentinfo"}
::: {.section .footer-body}
Document generated by Confluence on Jun 24, 2021 02:24

::: {#footer-logo}
[Atlassian](http://www.atlassian.com/)
:::
:::
:::
:::
